parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ZId4":[function(require,module,exports) {

},{}],"dzzm":[function(require,module,exports) {

},{"./laoder":"ZId4"}],"i8zD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.API=void 0;var n={get:function(n){return new Promise(function(t,e){fetch(n).then(function(n){return n.json()}).then(function(n){t(n)}).catch(function(n){console.log(n)})})},post:function(n,t){return new Promise(function(e,o){var c={method:"POST",body:JSON.stringify(t)};fetch(n,c).then(function(n){return n.json()}).then(function(n){e(n)}).catch(function(n){console.log(n)})})}};exports.API=n;
},{}],"AL48":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function t(o,n){e(this,t),this.Conn=new SQL.Database,this.tableName=o,this.columnsName=n,this.CreateTable()}return o(t,[{key:"CreateTable",value:function(){try{var e="create table ".concat(this.tableName,"(").concat(this.columnsName[0]," text NOT NULL, ").concat(this.columnsName[1]," int primary key, ").concat(this.columnsName[2]," varchar(3) NOT NULL, CHECK (").concat(this.columnsName[2]," in ('MCA','MSc')))");this.Conn.run(e),console.log("".concat(this.tableName," table has been created"))}catch(t){console.log(t.message)}}},{key:"InsertOne",value:function(e){try{this.Conn.run("insert into ".concat(this.tableName,' values("').concat(e.name,'", ').concat(e.rollno,', "').concat(e.course,'")'))}catch(t){console.log(t.message)}}},{key:"InsertMany",value:function(e){var t=this;e.forEach(function(e){t.InsertOne(e)})}},{key:"GetRecordById",value:function(e){try{var t="select * from ".concat(this.tableName," where rollno=").concat(e),o=this.Conn.prepare(t);if(!o.step())return void console.log("No such record present in the table");console.log(o.get())}catch(n){console.log(n.message)}}},{key:"GetRecordByName",value:function(e){try{var t="select * from ".concat(this.tableName,' where name="').concat(e,'"'),o=this.Conn.prepare(t);if(!o.step())return void console.log("No such record present in the table");for(;o.step();)console.log(o.get())}catch(n){console.log(n.message)}}},{key:"GetAllRecords",value:function(){try{for(var e="select * from ".concat(this.tableName),t=this.Conn.prepare(e),o=[];t.step();){var n=t.get(),a={name:n[0],rollno:n[1],course:n[2]};o.push(a)}return o}catch(c){console.log(c.message)}}},{key:"UpdateRow",value:function(e,t){try{var o=t.split("="),n=o[0],a=o[1],c="update ".concat(this.tableName," set ").concat(n,"=").concat(a," where rollno=").concat(e);console.log(c);this.Conn.exec(c)}catch(r){return console.log(r.message),""}}},{key:"UpdateLocalStorage",value:function(){var e=this.GetAllRecords();""==e?console.log("No record is available"):localStorage.setItem("clientData",JSON.stringify(e))}}]),t}();exports.default=n;
},{}],"QF8R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../API"),t=n(require("./CreateDatabase"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=f();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m="",p=function(n){l(r,t.default);var o=i(r);function r(e,t){return a(this,r),o.call(this,e,t)}return c(r,null,[{key:"ChangeColums",value:function(e){e.forEach(function(e){e.addEventListener("click",function(e){r.HandleClickedEvent(e.target),e.target.classList.contains("changing")||(e.target.innerHTML='<input type="text" value="'.concat(e.target.textContent,'" id="inputText" required>'),e.target.innerHTML+='<div class="action-buttons"><button id="save" class="success" disabled><i class="fa fa-check-circle-o" aria-hidden="true"></i></button><button id="cancel" class="danger"><i class="fa fa-times-circle" aria-hidden="true"></i>\n          </button></div>',e.target.classList.add("changing"))})})}},{key:"HandleClickedEvent",value:function(e){null!=e&&e.getAttribute("value")?r.IsModified():e&&"save"==e.getAttribute("id")||"I"==e.tagName&&"save"==e.parentNode.getAttribute("id")?r.Save():e&&"cancel"==e.getAttribute("id")||"I"==e.tagName&&"cancel"==e.parentNode.getAttribute("id")?r.Cancel():"TD"!=e.tagName||e.classList.contains("changing")||(r.NotifyIfNotSave(),r.Cancel())}},{key:"NotifyIfNotSave",value:function(){var e=document.querySelector("tbody td.changing");if(null!=e){var t=e.childNodes[0];t.value!=t.getAttribute("value")&&(confirm("Changes are not saved, do you want to save?")?r.Save():r.Cancel())}}},{key:"Save",value:function(){var e=document.querySelector("tbody td.changing"),t=-1;if(e.parentNode.childNodes.forEach(function(e,n){e.classList.contains("changing")&&(t=n)}),null!=e){var n=e.childNodes[0],o="";isNaN(n.value)?(o="".concat(m.columnsName[t],'="').concat(n.value,'"'),m.UpdateRow(parseInt(e.parentNode.childNodes[1].textContent),o)):(o="".concat(m.columnsName[t],"=").concat(n.value),m.UpdateRow(parseInt(n.getAttribute("value")),o)),m.UpdateLocalStorage(),e.textContent=n.value,e.classList.remove("changing");r.ShowMessage({addClass:"success",msg:"Record has been successfully updated"})}}},{key:"Cancel",value:function(){var e=document.querySelector("tbody td.changing");if(null!=e){var t=e.childNodes[0];if(e.textContent=t.getAttribute("value"),e.classList.remove("changing"),t.value!=t.getAttribute("value")){r.ShowMessage({addClass:"danger",msg:"You cancelled updating record"})}}}},{key:"ShowMessage",value:function(e){var t=document.querySelector(".msg-box");t.classList.add(e.addClass),t.innerHTML=e.msg,t.style.display="block",t.style.opacity="1",setTimeout(function(){t.style.opacity="0",t.classList.remove(e.addClass),t.style.display="none"},2e3)}},{key:"IsModified",value:function(){var e=document.getElementById("inputText"),t=document.getElementById("save");e&&e.addEventListener("keyup",function(){e.value!==e.getAttribute("value")?r.ButtonProperties(t,"1","pointer",!1):r.ButtonProperties(t,"0.5","not-allowed",!0)})}},{key:"ButtonProperties",value:function(e,t,n,o){e.style.opacity=t,e.style.cursor=n,e.disabled=o}},{key:"LoadStudentData",value:function(){m=new r("students",["name","rollno","course"]);if(localStorage.getItem("clientData")){m.InsertMany(JSON.parse(localStorage.getItem("clientData"))),r.InsertIntoTables(JSON.parse(localStorage.getItem("clientData"))),console.log("Loading from localStorage clientData");var t=document.querySelectorAll("#student-table td");r.ChangeColums(t)}else e.API.get("http://localhost:8080/api/students").then(function(e){localStorage.setItem("serverData",JSON.stringify(e)),m.InsertMany(e),localStorage.setItem("clientData",localStorage.getItem("serverData")),r.InsertIntoTables(JSON.parse(localStorage.getItem("clientData"))),console.log("Loading from API");var t=document.querySelectorAll("#student-table td");r.ChangeColums(t)})}},{key:"InsertIntoTables",value:function(e){var t=document.getElementById("student-table");document.querySelector(".wrapper-loader").parentNode.removeChild(document.querySelector(".wrapper-loader"));var n=document.createElement("thead");r.LoadHeading().forEach(function(e){n.appendChild(e)}),t.appendChild(n),document.getElementById("addNewRow").addEventListener("click",function(){r.AddNewRow()});var o=document.createElement("tbody");e.forEach(function(e){o.appendChild(r.LoadStudentInfo(e))}),t.appendChild(o)}},{key:"LoadStudentInfo",value:function(e){var t=document.createElement("tr"),n=document.createElement("td");n.textContent=e.name;var o=document.createElement("td");o.textContent=e.rollno;var a=document.createElement("td");return a.textContent=e.course,[n,o,a].forEach(function(e){t.appendChild(e)}),t}},{key:"LoadHeading",value:function(){var e=document.createElement("tr");m.columnsName.forEach(function(t){var n=document.createElement("th");n.textContent=t,e.appendChild(n)});var t=document.createElement("tr");return t.innerHTML='<th></th><th><button id="addNewRow"><span><i class="fa fa-plus" aria-hidden="true"></i></span></button></th><th></th>',[e,t]}},{key:"SendStudentsData",value:function(){var t=JSON.parse(localStorage.getItem("clientData"));e.API.post("http://localhost:8080/api/students",t).then(function(e){document.querySelector(".container").innerHTML='<h3>Record is successfully uploaded..</h3><div class="msg-box"> \n      </div>';var t={addClass:e.response?"success":"danger",msg:e.content};r.ShowMessage(t)})}},{key:"AddNewRow",value:function(){r.ButtonProperties(document.getElementById("addNewRow"),"0.5","not-allowed",!0);var e=document.createElement("tr");e.classList.add("inserting");var t=document.createElement("td");t.innerHTML='<input type="text" placeholder="Please enter name" value="" required>';var n=document.createElement("td");n.innerHTML='<input type="text" placeholder="Please enter rollno" value="" required>';var o=document.createElement("td");o.innerHTML='<input type="text" placeholder="Please enter course" value="" required>';var a=document.createElement("div");a.classList.add("action-buttons"),a.innerHTML='<button id="saveNew" class="success" disabled><i class="fa fa-check-circle-o" aria-hidden="true"></i></button><button id="cancelNew" class="danger"><i class="fa fa-times-circle" aria-hidden="true"></i></button>',[t,n,o].forEach(function(t){e.appendChild(t)});var c=document.querySelector("tbody");c.insertBefore(e,c.childNodes[0]);var l=document.querySelector(".table-box");l.insertBefore(a,l.childNodes[0]),r.IsModifiedText(),document.getElementById("cancelNew").addEventListener("click",function(){r.RemoveInsertingElements()}),document.getElementById("saveNew").addEventListener("click",function(){console.log("Clicked on saveNew"),r.SaveInsertedValues()})}},{key:"SaveInsertedValues",value:function(){var e=document.querySelectorAll(".inserting input"),t=document.querySelectorAll(".inserting td"),n={name:e[0].value,rollno:parseInt(e[1].value),course:e[2].value};m.InsertOne(n),t[0].innerHTML="",t[1].innerHTML="",t[2].innerHTML="",t[0].textContent=n.name,t[1].textContent=n.rollno,t[2].textContent=n.course,document.querySelector(".inserting").classList.remove("inserting"),r.RemoveInsertingButtons();var o=document.querySelectorAll("#student-table td");r.ChangeColums(o),m.UpdateLocalStorage();r.ShowMessage({addClass:"success",msg:"New record is successfully added"}),r.ButtonProperties(document.getElementById("addNewRow"),"1","pointer",!1)}},{key:"RemoveInsertingButtons",value:function(){var e=document.querySelector(".action-buttons");e.parentNode.removeChild(e)}},{key:"RemoveInsertingElements",value:function(){var e=document.querySelector(".inserting");e.parentNode.removeChild(e),r.RemoveInsertingButtons(),r.ButtonProperties(document.getElementById("addNewRow"),"1","pointer",!1)}},{key:"IsModifiedText",value:function(){var e=document.querySelectorAll(".inserting input"),t=document.getElementById("saveNew"),n=!1,o=!1,a=!1;3==e.length&&e[0].addEventListener("keyup",function(){n=e[0].value!==e[0].getAttribute("value"),e[1].addEventListener("keyup",function(){o=!(e[1].value===e[1].getAttribute("value")||!r.IsValidRollNumber(e[1].value)),n&&o&&a?r.ButtonProperties(t,"1","pointer",!1):r.ButtonProperties(t,"0.5","not-allowed",!0)}),e[2].addEventListener("keyup",function(){a=e[2].value!==e[2].getAttribute("value"),n&&o&&a?r.ButtonProperties(t,"1","pointer",!1):r.ButtonProperties(t,"0.5","not-allowed",!0)}),n&&o&&a?r.ButtonProperties(t,"1","pointer",!1):r.ButtonProperties(t,"0.5","not-allowed",!0)}),n&&o&&a?r.ButtonProperties(t,"1","pointer",!1):r.ButtonProperties(t,"0.5","not-allowed",!0)}},{key:"IsValidRollNumber",value:function(e){return!isNaN(e)&&!e.includes(".")}}]),r}();exports.default=p;
},{"../API":"i8zD","./CreateDatabase":"AL48"}],"eBcb":[function(require,module,exports) {
"use strict";require("./css/main.css");var e=t(require("./components/Student"));function t(e){return e&&e.__esModule?e:{default:e}}e.default.LoadStudentData(),setTimeout(function(){localStorage.getItem("clientData")&&(localStorage.removeItem("clientData"),console.log("removed element from localStorage.."),console.log(localStorage.getItem("clientData"))),localStorage.getItem("serverData")&&(localStorage.removeItem("serverData"),console.log("removed element from localStorage.."),console.log(localStorage.getItem("serverData")))},6e4),document.getElementById("upload-students").addEventListener("click",function(){e.default.SendStudentsData()});
},{"./css/main.css":"dzzm","./components/Student":"QF8R"}]},{},["eBcb"], null)
//# sourceMappingURL=App.9c7962ac.js.map