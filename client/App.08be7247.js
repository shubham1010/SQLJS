parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ZId4":[function(require,module,exports) {

},{}],"dzzm":[function(require,module,exports) {

},{"./laoder":"ZId4"}],"i8zD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.API=void 0;var e={get:function(e){return new Promise(function(t,n){fetch(e).then(function(e){return e.json()}).then(function(e){t(e)}).catch(function(e){console.log(e)})})}};exports.API=e;
},{}],"QF8R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../API");function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=l();return function(){var n,o=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return c(this,n)}}function c(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?r(e):n}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var f="",m=function(){function e(t,n){u(this,e),this.Conn=new SQL.Database,this.tableName=t,this.columnsName=n,this.CreateTable()}return d(e,[{key:"CreateTable",value:function(){try{var e="create table ".concat(this.tableName,"(").concat(this.columnsName[0]," text NOT NULL, ").concat(this.columnsName[1]," int primary key, ").concat(this.columnsName[2]," varchar(3) NOT NULL, CHECK (").concat(this.columnsName[2]," in ('MCA','MSc')))");this.Conn.run(e),console.log("".concat(this.tableName," table has been created"))}catch(t){console.log(t.message)}}},{key:"InsertOne",value:function(e){try{this.Conn.run("insert into ".concat(this.tableName,' values("').concat(e.name,'", ').concat(e.rollno,', "').concat(e.course,'")'))}catch(t){console.log(t.message)}}},{key:"InsertMany",value:function(e){var t=this;e.forEach(function(e){t.InsertOne(e)})}},{key:"GetRecordById",value:function(e){try{var t="select * from ".concat(this.tableName," where rollno=").concat(e),n=this.Conn.prepare(t);if(!n.step())return void console.log("No such record present in the table");console.log(n.get())}catch(o){console.log(o.message)}}},{key:"GetRecordByName",value:function(e){try{var t="select * from ".concat(this.tableName,' where name="').concat(e,'"'),n=this.Conn.prepare(t);if(!n.step())return void console.log("No such record present in the table");for(;n.step();)console.log(n.get())}catch(o){console.log(o.message)}}},{key:"GetAllRecords",value:function(){try{for(var e="select * from ".concat(this.tableName),t=this.Conn.prepare(e),n=[];t.step();){var o=t.get(),a={name:o[0],rollno:o[1],course:o[2]};n.push(a)}return n}catch(c){console.log(c.message)}}},{key:"UpdateRow",value:function(e,t){try{var n=t.split("="),o=n[0],a=n[1],c="update ".concat(this.tableName," set ").concat(o,"=").concat(a," where rollno=").concat(e);console.log(c);this.Conn.exec(c)}catch(r){return console.log(r.message),""}}},{key:"UpdateLocalStorage",value:function(){var e=this.GetAllRecords();""==e?console.log("No record is available"):localStorage.setItem("students",JSON.stringify(e))}}]),e}(),g=function(t){n(c,m);var o=a(c);function c(e,t){return u(this,c),o.call(this,e,t)}return d(c,null,[{key:"ChangeColums",value:function(){document.querySelectorAll("#student-table td").forEach(function(e){e.addEventListener("click",function(e){c.HandleClickedEvent(e.target),e.target.classList.contains("changing")||(e.target.innerHTML='<input type="text" value="'.concat(e.target.textContent,'" id="inputText">'),e.target.innerHTML+='<div class="action-buttons"><button id="save" class="success" disabled><i class="fa fa-check-circle-o" aria-hidden="true"></i></button><button id="cancel" class="danger"><i class="fa fa-times-circle" aria-hidden="true"></i>\n          </button></div>',e.target.classList.add("changing"))})})}},{key:"HandleClickedEvent",value:function(e){null!=e&&e.getAttribute("value")?c.IsModified():e&&"save"==e.getAttribute("id")||"I"==e.tagName&&"save"==e.parentNode.getAttribute("id")?c.Save():e&&"cancel"==e.getAttribute("id")||"I"==e.tagName&&"cancel"==e.parentNode.getAttribute("id")?c.Cancel():"TD"!=e.tagName||e.classList.contains("changing")||(c.NotifyIfNotSave(),c.Cancel())}},{key:"NotifyIfNotSave",value:function(){var e=document.querySelector("tbody td.changing");if(null!=e){var t=e.childNodes[0];t.value!=t.getAttribute("value")&&(confirm("Changes are not saved, do you want to save?")?c.Save():c.Cancel())}}},{key:"Save",value:function(){var e=document.querySelector("tbody td.changing"),t=-1;if(e.parentNode.childNodes.forEach(function(e,n){e.classList.contains("changing")&&(t=n)}),null!=e){var n=e.childNodes[0],o="";isNaN(n.value)?(o="".concat(f.columnsName[t],'="').concat(n.value,'"'),f.UpdateRow(parseInt(e.parentNode.childNodes[1].textContent),o)):(o="".concat(f.columnsName[t],"=").concat(n.value),f.UpdateRow(parseInt(n.getAttribute("value")),o)),f.UpdateLocalStorage(),e.textContent=n.value,e.classList.remove("changing");c.ShowMessage({addClass:"success",msg:"Record has been successfully updated"})}}},{key:"Cancel",value:function(){var e=document.querySelector("tbody td.changing");if(null!=e){var t=e.childNodes[0];if(e.textContent=t.getAttribute("value"),e.classList.remove("changing"),t.value!=t.getAttribute("value")){c.ShowMessage({addClass:"danger",msg:"You cancelled updating record"})}}}},{key:"ShowMessage",value:function(e){var t=document.querySelector(".msg-box");t.classList.add(e.addClass),t.innerHTML=e.msg,t.style.display="block",t.style.opacity="1",setTimeout(function(){t.style.opacity="0",t.classList.remove(e.addClass),t.style.display="none"},2e3)}},{key:"IsModified",value:function(){var e=document.getElementById("inputText"),t=document.getElementById("save");e&&e.addEventListener("keyup",function(){e.value!==e.getAttribute("value")?c.ButtonProperties(t,"1","pointer",!1):c.ButtonProperties(t,"0.5","not-allowed",!0)})}},{key:"ButtonProperties",value:function(e,t,n,o){e.style.opacity=t,e.style.cursor=n,e.disabled=o}},{key:"LoadStudentData",value:function(){f=new c("students",["name","rollno","course"]);localStorage.getItem("students")?(c.InsertIntoTables(JSON.parse(localStorage.getItem("students"))),f.InsertMany(JSON.parse(localStorage.getItem("students"))),console.log("Loading from localStorage"),c.ChangeColums()):e.API.get("http://localhost:8080/api/students").then(function(e){f.InsertMany(e),localStorage.setItem("students",JSON.stringify(e)),c.InsertIntoTables(e),console.log("Loading from API"),c.ChangeColums()})}},{key:"InsertIntoTables",value:function(e){var t=document.getElementById("student-table");document.querySelector(".wrapper-loader").parentNode.removeChild(document.querySelector(".wrapper-loader"));var n=document.createElement("thead");n.appendChild(c.LoadHeading()),t.appendChild(n);var o=document.createElement("tbody");e.forEach(function(e){o.appendChild(c.LoadStudentInfo(e))}),t.appendChild(o)}},{key:"LoadStudentInfo",value:function(e){var t=document.createElement("tr"),n=document.createElement("td");n.textContent=e.name;var o=document.createElement("td");o.textContent=e.rollno;var a=document.createElement("td");return a.textContent=e.course,[n,o,a].forEach(function(e){t.appendChild(e)}),t}},{key:"LoadHeading",value:function(){var e=document.createElement("tr");return["name","rollno","course"].forEach(function(t){var n=document.createElement("th");n.textContent=t,e.appendChild(n)}),e}}]),c}();exports.default=g;
},{"../API":"i8zD"}],"eBcb":[function(require,module,exports) {
"use strict";require("./css/main.css");var e=t(require("./components/Student"));function t(e){return e&&e.__esModule?e:{default:e}}e.default.LoadStudentData(),setTimeout(function(){localStorage.getItem("students")&&(localStorage.removeItem("students"),console.log("removed element from localStorage.."),console.log(localStorage.getItem("students")))},6e4);
},{"./css/main.css":"dzzm","./components/Student":"QF8R"}]},{},["eBcb"], null)
//# sourceMappingURL=App.08be7247.js.map